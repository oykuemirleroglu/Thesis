{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\xD6yk\\xFC\\\\Desktop\\\\CENG-416\\\\src\\\\pages\\\\CreatePoll.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport SelectHour from \"./SelectHour\";\nimport DateOptionCard from \"../components/DateOptionCard\";\nimport { DatabaseHandler } from \"../database/DatabaseHandler\";\nimport Notify from \"../UI/Modal\";\nimport Alert from \"../UI/Alert\";\nimport { SocialHandler } from \"../database/SocialHandler\";\nimport FriendLists from \"../UI/FriendLists\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CreatePoll = () => {\n  _s();\n\n  const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n  const navigate = useNavigate();\n  const [options, setOptions] = useState([]);\n  const [friends, setFriends] = useState([]);\n  const [isOptionEmpty, setIsOptionEmpty] = useState(true);\n  const [isOptionEmptyError, setIsOptionEmptyError] = useState(false);\n  const [isOptionDateError, setIsOptionDateError] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [textParticipant, setTextParticipant] = useState(\"\");\n  const [isFocused, setIsFocused] = useState(false);\n  const [showMessage, setShowMessage] = useState(false);\n  const [optError, setOptError] = useState(false);\n  const [optHoursError, setOptHoursError] = useState(false);\n  var err = false;\n  useEffect(async () => {\n    console.log(userInfo[\"userName\"]);\n    var res = await SocialHandler.getFriends(userInfo[\"userName\"]);\n    setFriends(res);\n    setIsLoading(false);\n  }, []);\n  let counter = 0; // might think different way later...\n\n  const [enteredTitle, setEnteredTitle] = useState(\"\");\n\n  const titleChangeHandler = event => {\n    setEnteredTitle(event.target.value);\n  };\n\n  const [enteredDescription, setEnteredDescription] = useState(\"\");\n\n  const descriptionChangeHandler = event => {\n    setEnteredDescription(event.target.value);\n  };\n\n  const [enteredStartDate, setEnteredStartDate] = useState();\n\n  const startDateChangeHandler = event => {\n    setEnteredStartDate(event.target.value);\n    console.log(event.target.value);\n    setIsOptionDateError(false);\n  };\n\n  const [enteredLocation, setEnteredLocation] = useState(\"\");\n\n  const LocationChangeHandler = event => {\n    setEnteredLocation(event.target.value);\n  };\n\n  const focusHandler = () => {\n    setIsFocused(true);\n  };\n\n  const addHandler = friend => {\n    if (textParticipant[textParticipant.length - 1] != \",\" && textParticipant.length != 0) {\n      setTextParticipant(prev => prev + `,${friend},`);\n    } else {\n      setTextParticipant(prev => prev + `${friend},`);\n    }\n  };\n\n  const addOptionHandler = () => {\n    const sTime = localStorage.getItem(\"startTime\");\n    const eTime = localStorage.getItem(\"endTime\");\n\n    if (sTime === undefined || eTime === undefined || enteredStartDate === undefined || enteredStartDate === \"\") {\n      setIsOptionDateError(true);\n    } else {\n      let newOpt = {\n        date: enteredStartDate,\n        startTime: sTime,\n        endTime: eTime\n      };\n      options.forEach(option => {\n        if (option[\"date\"] === enteredStartDate && option[\"startTime\"] === sTime && option[\"endTime\"] === eTime) {\n          err = true;\n          setOptError(true);\n        }\n      });\n\n      if (!err) {\n        if (sTime === eTime || sTime > eTime) {\n          setOptHoursError(true);\n        } else {\n          setOptions(values => [...values, newOpt]);\n          setIsOptionDateError(false);\n          setIsOptionEmpty(false);\n          setIsOptionEmptyError(false);\n          setOptHoursError(false);\n          setOptError(false);\n        }\n      }\n\n      console.log(options);\n    }\n  };\n\n  const [cb1, setCB1] = useState(false);\n\n  const CB1ChangeHandler = event => {\n    if (cb1 === false) {\n      setCB1(true);\n    } else {\n      setCB1(false);\n    }\n  };\n\n  const [enteredLimit, setEnteredLimit] = useState(0);\n\n  const limitChangeHandler = event => {\n    if (event.target.value === 0) {}\n\n    setEnteredLimit(Number(event.target.value));\n  };\n\n  const [enteredParticipants, setEnteredParticipants] = useState({});\n\n  const participantsChangeHandler = event => {\n    let string = textParticipant;\n    setTextParticipant(event.target.value);\n    const array = string.split(\",\");\n    array.splice(array.length - 1, array.length);\n    setEnteredParticipants({ ...array\n    });\n  };\n\n  const [cb2, setCB2] = useState(false);\n\n  const CB2ChangeHandler = event => {\n    if (cb2 === false) {\n      setCB2(true);\n    } else {\n      setCB2(false);\n      setEnteredLimit(\"\");\n    }\n  };\n\n  const [cb3, setCB3] = useState(false);\n\n  const CB3ChangeHandler = event => {\n    if (cb3 === false) {\n      setCB3(true);\n    } else {\n      setCB3(false);\n    }\n  };\n\n  const cancelCreate = () => {\n    navigate(\"/\");\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (isOptionEmpty) {\n      setIsOptionEmptyError(true);\n    } else {\n      var array = textParticipant.split(\",\");\n      console.log(array.splice(array.length - 1, array.length));\n      let poll = {\n        creatorName: userInfo.userName,\n        title: enteredTitle,\n        description: enteredDescription,\n        location: enteredLocation,\n        checkBox1: cb1,\n        isOpen: true,\n        limit: enteredLimit,\n        hideParticipants: cb3,\n        participants: array,\n        options: options\n      };\n      Object.keys(poll.options).forEach(key => poll.options[key][\"creatorName\"] = userInfo.userName);\n      DatabaseHandler.createEvent(poll);\n      setShowMessage(true);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"sm:w-full md:w-1/2  md:mx-auto space-y-8 divide-y divide-gray-200 sm:space-y-5 divide-gray-200 mr-20 ml-20 mb-2\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-lg leading-6 text-xl text-gray-900 font-semibold mt-3\",\n        children: \"Create Your Event\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-8 divide-y divide-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sm:col-span-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"Title\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"Title\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1 flex rounded-md shadow-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"title\",\n                id: \"title\",\n                required: true,\n                value: enteredTitle,\n                onChange: titleChangeHandler,\n                className: \"flex-1 focus:ring-indigo-500 border focus:border-indigo-500 block w-full h-8 min-w-0 rounded-md sm:text-sm border-gray-300\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sm:col-span-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"Description\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"Description (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1\",\n              children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n                id: \"Description\",\n                name: \"Description\",\n                rows: 3,\n                value: enteredDescription,\n                onChange: descriptionChangeHandler,\n                className: \"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border border-gray-300 rounded-md\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-2 text-sm text-gray-500\",\n              children: \"Write a few sentences about event.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sm:col-span-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"Title\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"Location (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1 flex rounded-md shadow-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"location\",\n                id: \"location\",\n                value: enteredLocation,\n                onChange: LocationChangeHandler,\n                className: \"flex-1 focus:ring-indigo-500 border h-8 focus:border-indigo-500 block w-full min-w-0 rounded-md sm:text-sm border-gray-300\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sm:col-span-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"Title\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"Participants\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1 flex rounded-md shadow-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"partcpnts\",\n                onFocus: focusHandler,\n                value: textParticipant,\n                id: \"partcpnts\",\n                onChange: participantsChangeHandler,\n                className: \"flex-1 focus:ring-indigo-500 border focus:border-indigo-500 block w-full h-8 min-w-0 rounded-md sm:text-sm border-gray-300\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: isFocused && /*#__PURE__*/_jsxDEV(FriendLists, {\n                isLoading: isLoading,\n                friends: Object.keys(friends),\n                addHandler: addHandler,\n                participants: textParticipant\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 30\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pt-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-lg leading-6 text-xl text-gray-900 font-semibold mb-2\",\n          children: \"Date and Hours\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sm:flex sm:flex-col md:grid md:grid-cols-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-1 sm:ml-0 md:ml-16\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mr-2\",\n              children: \"Date:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              name: \"startDate\",\n              value: enteredStartDate,\n              onChange: startDateChangeHandler,\n              className: \" focus:ring-indigo-500 border focus:border-indigo-500 w-2/3 block h-8  rounded-md sm:text-sm border-gray-300\",\n              placeholder: \"startDate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-1 sm:ml-0 md:ml-16\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"Start Time:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SelectHour, {\n              name: \"Start Time\",\n              keyy: \"startTime\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-1 sm:ml-0 md:ml-16\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"Finish Time:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SelectHour, {\n              name: \"Finish Time\",\n              keyy: \"endTime\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center mt-4 ml-24\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"flex justify-center py-1 px-2 border border-transparent text-base font-medium rounded-md text-white bg-red-700 hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",\n            type: \"button\",\n            onClick: addOptionHandler,\n            children: \"Add Option\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this), !isOptionEmpty && /*#__PURE__*/_jsxDEV(DateOptionCard, {\n        options: options\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 28\n      }, this), optError && /*#__PURE__*/_jsxDEV(Alert, {\n        title: \"Opps!\",\n        messages: [\"You can not add same option again\"]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 22\n      }, this), optHoursError && /*#__PURE__*/_jsxDEV(Alert, {\n        title: \"Opps!\",\n        messages: [\"There is inconsistency with the times.\"]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 330,\n        columnNumber: 27\n      }, this), isOptionDateError && /*#__PURE__*/_jsxDEV(Alert, {\n        title: \"Opps!\",\n        messages: [\"Please set the date.\"]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 31\n      }, this), isOptionEmptyError && /*#__PURE__*/_jsxDEV(Alert, {\n        title: \"You forgot to add your date options !\",\n        messages: [\"Please add at least one  date option.\"]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pt-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg leading-6 font-medium text-gray-900\",\n            children: \"Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-1 text-sm text-gray-500\",\n            children: \"Set your event options.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"fieldset\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 space-y-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative flex items-start\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative flex items-start\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center h-5\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"participants\",\n                    name: \"participants\",\n                    type: \"checkbox\",\n                    onChange: CB3ChangeHandler,\n                    className: \"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 385,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ml-3 text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"participants\",\n                    className: \"font-medium text-gray-700\",\n                    children: \"Hide participant list\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 394,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-500\",\n                    children: \"Get notified when a candidate accepts or rejects an offer.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 393,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pt-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-black bg-white-700 hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",\n            onClick: cancelCreate,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-700 hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",\n            children: \"Create Event\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), showMessage && /*#__PURE__*/_jsxDEV(Notify, {\n      navigate: navigate,\n      route: \"/\",\n      routePageMessage: \"Go to Home Page !\",\n      title: `You created event ${userInfo.userName}!`,\n      message: `${enteredTitle} is created! Let's go and check! `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 190,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CreatePoll, \"KVPbX02LfkMp5yzb1e3uA5OBj5s=\", false, function () {\n  return [useNavigate];\n});\n\n_c = CreatePoll;\nexport default CreatePoll;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreatePoll\");","map":{"version":3,"sources":["C:/Users/Öykü/Desktop/CENG-416/src/pages/CreatePoll.jsx"],"names":["React","useEffect","useState","useNavigate","SelectHour","DateOptionCard","DatabaseHandler","Notify","Alert","SocialHandler","FriendLists","CreatePoll","userInfo","JSON","parse","localStorage","getItem","navigate","options","setOptions","friends","setFriends","isOptionEmpty","setIsOptionEmpty","isOptionEmptyError","setIsOptionEmptyError","isOptionDateError","setIsOptionDateError","isLoading","setIsLoading","textParticipant","setTextParticipant","isFocused","setIsFocused","showMessage","setShowMessage","optError","setOptError","optHoursError","setOptHoursError","err","console","log","res","getFriends","counter","enteredTitle","setEnteredTitle","titleChangeHandler","event","target","value","enteredDescription","setEnteredDescription","descriptionChangeHandler","enteredStartDate","setEnteredStartDate","startDateChangeHandler","enteredLocation","setEnteredLocation","LocationChangeHandler","focusHandler","addHandler","friend","length","prev","addOptionHandler","sTime","eTime","undefined","newOpt","date","startTime","endTime","forEach","option","values","cb1","setCB1","CB1ChangeHandler","enteredLimit","setEnteredLimit","limitChangeHandler","Number","enteredParticipants","setEnteredParticipants","participantsChangeHandler","string","array","split","splice","cb2","setCB2","CB2ChangeHandler","cb3","setCB3","CB3ChangeHandler","cancelCreate","handleSubmit","preventDefault","poll","creatorName","userName","title","description","location","checkBox1","isOpen","limit","hideParticipants","participants","Object","keys","key","createEvent"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport SelectHour from \"./SelectHour\";\nimport DateOptionCard from \"../components/DateOptionCard\";\nimport { DatabaseHandler } from \"../database/DatabaseHandler\";\nimport Notify from \"../UI/Modal\";\nimport Alert from \"../UI/Alert\";\nimport { SocialHandler } from \"../database/SocialHandler\";\nimport FriendLists from \"../UI/FriendLists\";\n\nconst CreatePoll = () => {\n  const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n\n  const navigate = useNavigate();\n  const [options, setOptions] = useState([]);\n  const [friends, setFriends] = useState([]);\n  const [isOptionEmpty, setIsOptionEmpty] = useState(true);\n  const [isOptionEmptyError, setIsOptionEmptyError] = useState(false);\n  const [isOptionDateError, setIsOptionDateError] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [textParticipant, setTextParticipant] = useState(\"\");\n  const [isFocused, setIsFocused] = useState(false);\n  const [showMessage, setShowMessage] = useState(false);\n\n\n  const[optError,setOptError] = useState(false);\n  const[optHoursError,setOptHoursError] = useState(false);\n  var err = false;\n  useEffect(async ()=>{\n    console.log(userInfo[\"userName\"]);\n    var res = await SocialHandler.getFriends(userInfo[\"userName\"]);\n    \n    setFriends(res);\n    setIsLoading(false);\n  },[])\n\n\n  let counter = 0; // might think different way later...\n\n  const [enteredTitle, setEnteredTitle] = useState(\"\");\n  const titleChangeHandler = (event) => {\n    setEnteredTitle(event.target.value);\n  };\n\n  const [enteredDescription, setEnteredDescription] = useState(\"\");\n  const descriptionChangeHandler = (event) => {\n    setEnteredDescription(event.target.value);\n  };\n\n  const [enteredStartDate, setEnteredStartDate] = useState();\n  const startDateChangeHandler = (event) => {\n    setEnteredStartDate(event.target.value);\n    console.log(event.target.value)\n    setIsOptionDateError(false);\n  };\n  const [enteredLocation, setEnteredLocation] = useState(\"\");\n  const LocationChangeHandler = (event) => {\n    setEnteredLocation(event.target.value);\n  };\n\n  const focusHandler = () => {\n    setIsFocused(true)\n  }\n\n  const addHandler = (friend) => {\n    if(textParticipant[textParticipant.length - 1] != \",\" && textParticipant.length != 0){\n      setTextParticipant((prev)=> prev+`,${friend},`)\n    }else{\n      setTextParticipant((prev)=> prev+`${friend},`)\n    }\n    \n    \n  }\n\n  const addOptionHandler = () => {\n    const sTime = localStorage.getItem(\"startTime\");\n    const eTime = localStorage.getItem(\"endTime\");\n    if (\n      sTime === undefined ||\n      eTime === undefined ||\n      (enteredStartDate === undefined || enteredStartDate === \"\")\n    ) {\n      setIsOptionDateError(true);\n    } else {\n      let newOpt = { date: enteredStartDate, startTime: sTime, endTime: eTime };\n      options.forEach((option) => {\n        if((option[\"date\"] === enteredStartDate && option[\"startTime\"] === sTime && option[\"endTime\"] === eTime)){\n          err = true;\n          setOptError(true)\n        }\n      })\n      if(!(err)){\n\n       if(sTime === eTime || sTime > eTime){\n          setOptHoursError(true);\n       }else{\n        \n        setOptions((values) => [...values, newOpt]);\n        setIsOptionDateError(false);\n        setIsOptionEmpty(false);\n        setIsOptionEmptyError(false);\n        setOptHoursError(false);\n        setOptError(false);\n       }\n      }\n      \n      console.log(options);\n    }\n  };\n\n  const [cb1, setCB1] = useState(false);\n  const CB1ChangeHandler = (event) => {\n    if (cb1 === false) {\n      setCB1(true);\n    } else {\n      setCB1(false);\n    }\n  };\n\n  const [enteredLimit, setEnteredLimit] = useState(0);\n  const limitChangeHandler = (event) => {\n    if (event.target.value === 0) {\n    }\n    setEnteredLimit(Number(event.target.value));\n  };\n\n  const [enteredParticipants, setEnteredParticipants] = useState({});\n  const participantsChangeHandler = (event) => {\n    let string = textParticipant;\n    setTextParticipant(event.target.value)\n    const array = string.split(\",\");\n    array.splice(array.length - 1 ,array.length)\n    setEnteredParticipants({ ...array });\n  };\n\n  const [cb2, setCB2] = useState(false);\n  const CB2ChangeHandler = (event) => {\n    if (cb2 === false) {\n      setCB2(true);\n    } else {\n      setCB2(false);\n      setEnteredLimit(\"\");\n    }\n  };\n\n  const [cb3, setCB3] = useState(false);\n  const CB3ChangeHandler = (event) => {\n    if (cb3 === false) {\n      setCB3(true);\n    } else {\n      setCB3(false);\n    }\n  };\n\n  const cancelCreate = () => {\n    navigate(\"/\");\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (isOptionEmpty) {\n      setIsOptionEmptyError(true);\n    } else {\n      var array = textParticipant.split(\",\");\n      console.log(array.splice(array.length - 1,array.length))\n      let poll = {\n        creatorName: userInfo.userName,\n        title: enteredTitle,\n        description: enteredDescription,\n        location: enteredLocation,\n        checkBox1: cb1,\n        isOpen: true,\n        limit: enteredLimit,\n        hideParticipants: cb3,\n        participants: (array),\n        options: options,\n      };\n      Object.keys(poll.options).forEach((key)=> poll.options[key][\"creatorName\"] = userInfo.userName)\n      DatabaseHandler.createEvent(poll);\n      setShowMessage(true);\n    }\n  };\n\n\n\n\n\n\n  return (\n    <div>\n      <form\n        className=\"sm:w-full md:w-1/2  md:mx-auto space-y-8 divide-y divide-gray-200 sm:space-y-5 divide-gray-200 mr-20 ml-20 mb-2\"\n        onSubmit={handleSubmit}\n      >\n        <h1 className=\"text-lg leading-6 text-xl text-gray-900 font-semibold mt-3\">\n          Create Your Event\n        </h1>\n        <div className=\"space-y-8 divide-y divide-gray-200\">\n          <div className=\"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6\">\n            <div className=\"sm:col-span-6\">\n              <label\n                htmlFor=\"Title\"\n                className=\"block text-sm font-medium text-gray-700\"\n              >\n                Title\n              </label>\n              <div className=\"mt-1 flex rounded-md shadow-sm\">\n                <input\n                  type=\"text\"\n                  name=\"title\"\n                  id=\"title\"\n                  required\n                  value={enteredTitle}\n                  onChange={titleChangeHandler}\n                  className=\"flex-1 focus:ring-indigo-500 border focus:border-indigo-500 block w-full h-8 min-w-0 rounded-md sm:text-sm border-gray-300\"\n                />\n              </div>\n            </div>\n\n            <div className=\"sm:col-span-6\">\n              <label\n                htmlFor=\"Description\"\n                className=\"block text-sm font-medium text-gray-700\"\n              >\n                Description (optional)\n              </label>\n              <div className=\"mt-1\">\n                <textarea\n                  id=\"Description\"\n                  name=\"Description\"\n                  rows={3}\n                  value={enteredDescription}\n                  onChange={descriptionChangeHandler}\n                  className=\"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border border-gray-300 rounded-md\"\n                />\n              </div>\n              <p className=\"mt-2 text-sm text-gray-500\">\n                Write a few sentences about event.\n              </p>\n            </div>\n\n            <div className=\"sm:col-span-6\">\n              <label\n                htmlFor=\"Title\"\n                className=\"block text-sm font-medium text-gray-700\"\n              >\n                Location (optional)\n              </label>\n              <div className=\"mt-1 flex rounded-md shadow-sm\">\n                <input\n                  type=\"text\"\n                  name=\"location\"\n                  id=\"location\"\n                  value={enteredLocation}\n                  onChange={LocationChangeHandler}\n                  className=\"flex-1 focus:ring-indigo-500 border h-8 focus:border-indigo-500 block w-full min-w-0 rounded-md sm:text-sm border-gray-300\"\n                />\n              </div>\n            </div>\n\n            <div className=\"sm:col-span-6\">\n              <label\n                htmlFor=\"Title\"\n                className=\"block text-sm font-medium text-gray-700\"\n              >\n                Participants\n              </label>\n              <div className=\"mt-1 flex rounded-md shadow-sm\">\n                <input\n                  type=\"text\"\n                  name=\"partcpnts\"\n                  onFocus={focusHandler}\n                  value={textParticipant}\n                  id=\"partcpnts\"\n                  onChange={participantsChangeHandler}\n                  className=\"flex-1 focus:ring-indigo-500 border focus:border-indigo-500 block w-full h-8 min-w-0 rounded-md sm:text-sm border-gray-300\"\n                />\n              </div>\n              <div>\n              { isFocused && <FriendLists isLoading={isLoading} friends={Object.keys(friends)} addHandler={addHandler} participants={textParticipant}/>}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"pt-8\">\n          <h1 className=\"text-lg leading-6 text-xl text-gray-900 font-semibold mb-2\">\n            Date and Hours\n          </h1>\n          <div className=\"sm:flex sm:flex-col md:grid md:grid-cols-3\">\n            <div className=\"col-span-1 sm:ml-0 md:ml-16\">\n              <label className=\"block text-sm font-medium text-gray-700 mr-2\">\n                Date:\n              </label>\n              <input\n                type=\"date\"\n                name=\"startDate\"\n                value={enteredStartDate}\n                onChange={startDateChangeHandler}\n                className=\" focus:ring-indigo-500 border focus:border-indigo-500 w-2/3 block h-8  rounded-md sm:text-sm border-gray-300\"\n                placeholder=\"startDate\"\n              />\n            </div>\n            <div className=\"col-span-1 sm:ml-0 md:ml-16\">\n              <label className=\"block text-sm font-medium text-gray-700\">\n                Start Time:\n              </label>\n              <SelectHour name=\"Start Time\" keyy={\"startTime\"} />\n            </div>\n            <div className=\"col-span-1 sm:ml-0 md:ml-16\">\n              <label className=\"block text-sm font-medium text-gray-700\">\n                Finish Time:\n              </label>\n              <SelectHour name=\"Finish Time\" keyy={\"endTime\"} />\n            </div>\n          </div>\n\n          <div className=\"flex justify-center mt-4 ml-24\">\n            <button\n              className=\"flex justify-center py-1 px-2 border border-transparent text-base font-medium rounded-md text-white bg-red-700 hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n              type=\"button\"\n              onClick={addOptionHandler}\n            >\n              Add Option\n            </button>\n          </div>\n        </div>\n        {!isOptionEmpty && <DateOptionCard options={options} />}\n        {optError && <Alert title={\"Opps!\"} messages={[\"You can not add same option again\"]}/>}\n        {optHoursError && <Alert title={\"Opps!\"} messages={[\"There is inconsistency with the times.\"]}/>}\n        {isOptionDateError && <Alert title={\"Opps!\"} messages={[\"Please set the date.\"]}/>}\n        {isOptionEmptyError && (\n          <Alert\n            title=\"You forgot to add your date options !\"\n            messages={[\"Please add at least one  date option.\"]}\n          />\n        )}\n        <div className=\"pt-8\">\n          <div>\n            <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n              Settings\n            </h3>\n            <p className=\"mt-1 text-sm text-gray-500\">\n              Set your event options.\n            </p>\n          </div>\n          <div>\n            <fieldset>\n              <div className=\"mt-4 space-y-4\">\n                <div className=\"relative flex items-start\">\n                {/* {<div className=\"flex items-center h-5\">\n                    <input\n                      id=\"limitCheckBox\"\n                      name=\"limitCheckBox\"\n                      type=\"checkbox\"\n                      className=\"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded\"\n                      onChange={CB2ChangeHandler}\n                    />\n                  </div>\n                  <div className=\"ml-3 text-sm\">\n                    <label\n                      htmlFor=\"limit\"\n                      className=\"font-medium text-gray-700\"\n                    >\n                      Limit how many participants can select a time\n                    </label>\n                    {cb2 && (\n                      <input\n                        type=\"number\"\n                        name=\"limit\"\n                        id=\"limit\"\n                        value={enteredLimit}\n                        required\n                        onChange={limitChangeHandler}\n                        className=\"flex-1 focus:ring-indigo-500 border focus:border-indigo-500 block w-16 min-w-0 rounded-md sm:text-sm border-gray-300\"\n                      />\n                    )}\n                    <p className=\"text-gray-500\">\n                      We'll remove a time when it hits the participant limit.\n                    </p>\n                  </div>} */}\n                </div>\n                <div className=\"relative flex items-start\">\n                  <div className=\"flex items-center h-5\">\n                    <input\n                      id=\"participants\"\n                      name=\"participants\"\n                      type=\"checkbox\"\n                      onChange={CB3ChangeHandler}\n                      className=\"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded\"\n                    />\n                  </div>\n                  <div className=\"ml-3 text-sm\">\n                    <label\n                      htmlFor=\"participants\"\n                      className=\"font-medium text-gray-700\"\n                    >\n                      Hide participant list\n                    </label>\n                    <p className=\"text-gray-500\">\n                      Get notified when a candidate accepts or rejects an offer.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </fieldset>\n          </div>\n        </div>\n\n        <div className=\"pt-2\">\n          <div className=\"flex justify-end\">\n            <button\n              type=\"button\"\n              className=\"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-black bg-white-700 hover:bg-red-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n              onClick={cancelCreate}\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              className=\"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-700 hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n            >\n              Create Event\n            </button>\n          </div>\n        </div>\n      </form>\n      {showMessage && (\n        <Notify\n          navigate={navigate}\n          route={\"/\"}\n          routePageMessage={\"Go to Home Page !\"}\n          title={`You created event ${userInfo.userName}!`}\n          message={`${enteredTitle} is created! Let's go and check! `}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default CreatePoll;\n"]},"metadata":{},"sourceType":"module"}