{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\xD6yk\\xFC\\\\Desktop\\\\CENG-416\\\\src\\\\pages\\\\AddFriend.jsx\",\n    _s = $RefreshSig$();\n\nimport { set } from \"firebase/database\";\nimport React, { useEffect, useState } from \"react\";\nimport { SocialHandler } from \"../database/SocialHandler\";\nimport Alert from \"../UI/Alert\";\nimport Banner from \"../UI/Banner\";\nimport FriendList from \"../UI/FriendList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Addfriend = () => {\n  _s();\n\n  const [isError, setError] = useState(false);\n  const [isFriend, setFriend] = useState(true);\n  const [isUser, setUser] = useState(true);\n  const [isUserSelf, setIsUserisUserSelf] = useState(false);\n  const [enteredUsername, setEnteredUsername] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [requests, setRequests] = useState([]);\n  const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n\n  const usernameChangeHandler = event => {\n    setEnteredUsername(event.target.value);\n  };\n  /*const sendRequest = () => {};*/\n\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setIsLoading(true);\n    var res = await SocialHandler.getUsername(enteredUsername); //console.log(res);\n\n    setIsLoading(false);\n\n    if (res != null) {\n      setUser(true);\n      var getFriend = await SocialHandler.getFriend(enteredUsername, userInfo[\"userName\"]);\n      console.log(\"get\", getFriend);\n\n      if (getFriend != null) {\n        console.log(\"You are already friends\");\n        setFriend(true);\n        setError(true);\n      } else {\n        console.log(\"Request Sent\");\n\n        if (enteredUsername !== userInfo[\"userName\"]) {\n          SocialHandler.sendFriendRequest(userInfo[\"userName\"], enteredUsername);\n          setFriend(false);\n        } else {\n          setIsUserisUserSelf(true);\n        }\n      }\n    } else {\n      console.log(\"There is no such user.\");\n      setError(true);\n      setUser(false);\n      setFriend(false);\n    }\n\n    event.target.value = \" \";\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"sm:w-full md:w-1/2  md:mx-auto space-y-8 divide-y divide-gray-200 sm:space-y-5 divide-gray-200 mr-20 ml-20 mt-36\",\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-8 divide-y divide-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sm:col-span-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"Add Friend\",\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"Add Friend\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-1 flex rounded-md shadow-sm\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                name: \"title\",\n                id: \"title\",\n                required: true,\n                value: enteredUsername,\n                onChange: usernameChangeHandler,\n                className: \"flex-1 focus:ring-indigo-500 border focus:border-indigo-500 block w-full h-8 min-w-0 rounded-md sm:text-sm border-gray-300\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pt-2\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end\",\n            children: isLoading ? /*#__PURE__*/_jsxDEV(Banner, {\n              message: \"Wait a second...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-700 hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",\n              children: \"Send Request\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), !isLoading && isError && isFriend && /*#__PURE__*/_jsxDEV(Alert, {\n          title: \"Error\",\n          messages: [`You are already friends with ${enteredUsername}`],\n          status: \"err\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this), !isFriend && !isLoading && isUser && /*#__PURE__*/_jsxDEV(Alert, {\n          title: \"Friendship\",\n          messages: [\"Friendship request sent\"],\n          status: \"succ\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this), !isLoading && isError && !isUser && /*#__PURE__*/_jsxDEV(Alert, {\n          title: \"Error\",\n          messages: [\"There is no such user\"],\n          status: \"err\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this), !isLoading && isUserSelf && isUser && /*#__PURE__*/_jsxDEV(Alert, {\n          title: \"Error\",\n          messages: [\"This is you.\"],\n          status: \"err\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sm:w-full md:w-1/2  md:mx-auto space-y-8 divide-y divide-gray-200 sm:space-y-5 divide-gray-200 mr-20 ml-20 mt-10\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(FriendList, {\n        username: userInfo[\"userName\"]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Addfriend, \"88d+1OLlBr7gSjVwY0pgA94OIaw=\");\n\n_c = Addfriend;\nexport default Addfriend;\n\nvar _c;\n\n$RefreshReg$(_c, \"Addfriend\");","map":{"version":3,"sources":["C:/Users/Öykü/Desktop/CENG-416/src/pages/AddFriend.jsx"],"names":["set","React","useEffect","useState","SocialHandler","Alert","Banner","FriendList","Addfriend","isError","setError","isFriend","setFriend","isUser","setUser","isUserSelf","setIsUserisUserSelf","enteredUsername","setEnteredUsername","isLoading","setIsLoading","requests","setRequests","userInfo","JSON","parse","localStorage","getItem","usernameChangeHandler","event","target","value","handleSubmit","preventDefault","res","getUsername","getFriend","console","log","sendFriendRequest"],"mappings":"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","sourcesContent":["import { set } from \"firebase/database\";\nimport React, { useEffect, useState } from \"react\";\nimport { SocialHandler } from \"../database/SocialHandler\";\nimport Alert from \"../UI/Alert\";\nimport Banner from \"../UI/Banner\";\nimport FriendList from \"../UI/FriendList\";\n\nconst Addfriend = () => {\n  const [isError, setError] = useState(false);\n  const [isFriend, setFriend] = useState(true);\n  const [isUser, setUser] = useState(true);\n  const [isUserSelf, setIsUserisUserSelf] = useState(false);\n  const [enteredUsername, setEnteredUsername] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [requests, setRequests] = useState([]);\n  const userInfo = JSON.parse(localStorage.getItem(\"userInfo\"));\n\n  const usernameChangeHandler = (event) => {\n    setEnteredUsername(event.target.value);\n  };\n\n  /*const sendRequest = () => {};*/\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setIsLoading(true);\n\n    var res = await SocialHandler.getUsername(enteredUsername);\n    //console.log(res);\n    setIsLoading(false);\n    if (res != null) {\n      setUser(true);\n      var getFriend = await SocialHandler.getFriend(\n        enteredUsername,\n        userInfo[\"userName\"]\n      );\n      console.log(\"get\", getFriend);\n      if (getFriend != null) {\n        console.log(\"You are already friends\");\n        setFriend(true);\n        setError(true);\n      } else {\n        console.log(\"Request Sent\");\n        if (enteredUsername !== userInfo[\"userName\"]) {\n          SocialHandler.sendFriendRequest(\n            userInfo[\"userName\"],\n            enteredUsername\n          );\n          setFriend(false);\n        } else {\n          setIsUserisUserSelf(true);\n        }\n      }\n    } else {\n      console.log(\"There is no such user.\");\n      setError(true);\n      setUser(false);\n      setFriend(false);\n    }\n\n    event.target.value = \" \";\n  };\n\n  return (\n    <>\n      <form\n        className=\"sm:w-full md:w-1/2  md:mx-auto space-y-8 divide-y divide-gray-200 sm:space-y-5 divide-gray-200 mr-20 ml-20 mt-36\"\n        onSubmit={handleSubmit}\n      >\n        <div className=\"space-y-8 divide-y divide-gray-200\">\n          <div className=\"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6\">\n            <div className=\"sm:col-span-6\">\n              <label\n                htmlFor=\"Add Friend\"\n                className=\"block text-sm font-medium text-gray-700\"\n              >\n                Add Friend\n              </label>\n              <div className=\"mt-1 flex rounded-md shadow-sm\">\n                <input\n                  type=\"text\"\n                  name=\"title\"\n                  id=\"title\"\n                  required\n                  value={enteredUsername}\n                  onChange={usernameChangeHandler}\n                  className=\"flex-1 focus:ring-indigo-500 border focus:border-indigo-500 block w-full h-8 min-w-0 rounded-md sm:text-sm border-gray-300\"\n                />\n              </div>\n            </div>\n          </div>\n          <div className=\"pt-2\">\n            <div className=\"flex justify-end\">\n              {isLoading ? (\n                <Banner message={\"Wait a second...\"} />\n              ) : (\n                <button\n                  type=\"submit\"\n                  className=\"ml-3 inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-700 hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                >\n                  Send Request\n                </button>\n              )}\n            </div>\n          </div>\n          {!isLoading && isError && isFriend && (\n            <Alert\n              title=\"Error\"\n              messages={[`You are already friends with ${enteredUsername}`]}\n              status={\"err\"}\n            />\n          )}\n          {!isFriend && !isLoading && isUser && (\n            <Alert\n              title=\"Friendship\"\n              messages={[\"Friendship request sent\"]}\n              status={\"succ\"}\n            />\n          )}\n          {!isLoading && isError && !isUser && (\n            <Alert\n              title=\"Error\"\n              messages={[\"There is no such user\"]}\n              status={\"err\"}\n            />\n          )}\n          {!isLoading && isUserSelf && isUser && (\n            <Alert title=\"Error\" messages={[\"This is you.\"]} status={\"err\"} />\n          )}\n        </div>\n      </form>\n      <div className=\"sm:w-full md:w-1/2  md:mx-auto space-y-8 divide-y divide-gray-200 sm:space-y-5 divide-gray-200 mr-20 ml-20 mt-10\">\n        <label></label>\n        <FriendList username={userInfo[\"userName\"]}></FriendList>\n      </div>\n    </>\n  );\n};\nexport default Addfriend;\n"]},"metadata":{},"sourceType":"module"}