{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = TimeDropdown;\n\nvar _react = require(\"react\");\n\nvar styles = _interopRequireWildcard(require(\"./styles/time-dropdown\"));\n\nvar _useConfigContext = _interopRequireDefault(require(\"../hooks/useConfigContext\"));\n\nvar _dom = require(\"../helpers/dom\");\n\nvar _utils = require(\"../helpers/utils\");\n\nvar _constants = require(\"../helpers/constants\");\n\nvar _useStateContext = _interopRequireDefault(require(\"../hooks/useStateContext\"));\n\nvar _jsxRuntime = require(\"@emotion/react/jsx-runtime\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nlet scrollbarWidth = null;\n\nfunction TimeDropdown(_ref) {\n  let {\n    close\n  } = _ref;\n  const {\n    hour24Mode\n  } = (0, _useConfigContext.default)();\n  const {\n    updateTimeValue,\n    mode,\n    time,\n    meridiem,\n    disabledTimeRangeValidator\n  } = (0, _useStateContext.default)();\n  const container = (0, _react.useRef)(null);\n  const selectedOption = (0, _react.useRef)(null);\n  const options = (0, _react.useMemo)(() => {\n    const o = _constants.CLOCK_VALUES[mode].dropdown;\n\n    let validator = () => true;\n\n    if (disabledTimeRangeValidator) {\n      if (mode === _constants.MODE.HOURS_12) {\n        if (meridiem === 'am') {\n          validator = (_, i) => disabledTimeRangeValidator.validateHour((i + 1) % 12);\n        } else {\n          validator = (_, i) => {\n            // account for last number (12) which should be first (noon, 1pm, ...) in 24h format\n            const num = i === 11 ? 12 : i + 13;\n            return disabledTimeRangeValidator.validateHour(num);\n          };\n        }\n      } else if (mode === _constants.MODE.HOURS_24) {\n        validator = (_, i) => disabledTimeRangeValidator.validateHour((i + 1) % 24);\n      } else if (mode === _constants.MODE.MINUTES) {\n        validator = v => disabledTimeRangeValidator.validateMinute(time.hour, parseInt(v, 10));\n      }\n    }\n\n    return o.map((value, i) => ({\n      value,\n      enabled: validator(value, i)\n    }));\n  }, [mode, disabledTimeRangeValidator, meridiem, time.hour]);\n  const selected = (0, _utils.getNormalizedTimeValue)(mode, time).toString();\n\n  function disableBodyScroll() {\n    document.documentElement.style.paddingRight = scrollbarWidth + 'px';\n    document.documentElement.classList.add('react-timekeeper-noscroll');\n  }\n\n  function enableBodyScroll() {\n    document.documentElement.style.paddingRight = '0';\n    document.documentElement.classList.remove('react-timekeeper-noscroll');\n  }\n\n  const elsewhereClick = (0, _react.useCallback)(e => {\n    if (!container.current || !e.target) {\n      return;\n    }\n\n    if (!container.current.contains(e.target)) {\n      close();\n    }\n  }, [close]);\n  (0, _react.useEffect)(() => {\n    // measure scroll bar width for first time\n    if (scrollbarWidth == null) {\n      scrollbarWidth = (0, _dom.getScrollBarWidth)();\n    } // initial scroll in list\n\n\n    if (selectedOption.current && container.current) {\n      container.current.scrollTop = selectedOption.current.offsetTop;\n    } // listener to close if click outside dropdown\n\n\n    document.addEventListener('click', elsewhereClick, false);\n    return () => {\n      document.removeEventListener('click', elsewhereClick, false);\n      enableBodyScroll();\n    };\n  }, [elsewhereClick]); // select a value\n\n  function select(val, enabled) {\n    if (!enabled) return;\n    let parsed = parseInt(val, 10);\n\n    if (mode === _constants.MODE.HOURS_12 && parsed === 12) {\n      parsed = 0;\n    }\n\n    updateTimeValue(parsed, {\n      type: 'dropdown'\n    });\n    close();\n  }\n\n  return (0, _jsxRuntime.jsx)(\"div\", {\n    css: styles.wrapper(hour24Mode, mode),\n    ref: container,\n    onMouseEnter: disableBodyScroll,\n    onMouseLeave: enableBodyScroll,\n    className: \"react-timekeeper__time-dropdown\",\n    \"data-testid\": \"time-dropdown\",\n    children: (0, _jsxRuntime.jsx)(\"ul\", {\n      css: styles.options,\n      className: \"react-timekeeper__dropdown-numbers\",\n      children: options.map(_ref2 => {\n        let {\n          value,\n          enabled\n        } = _ref2;\n        const isSelected = selected === value;\n        return (0, _jsxRuntime.jsx)(\"li\", {\n          ref: el => isSelected ? selectedOption.current = el : '',\n          className: \"react-timekeeper__dropdown-number \".concat(isSelected ? 'react-timekeeper__dropdown-number--active' : ''),\n          css: styles.option({\n            active: isSelected,\n            enabled\n          }),\n          onClick: () => select(value, enabled),\n          \"data-testid\": \"time-dropdown_number\",\n          children: value\n        }, value);\n      })\n    })\n  });\n}","map":{"version":3,"sources":["C:/Users/Öykü/Desktop/CENG-416/node_modules/react-timekeeper/lib/components/TimeDropdown.js"],"names":["Object","defineProperty","exports","value","default","TimeDropdown","_react","require","styles","_interopRequireWildcard","_useConfigContext","_interopRequireDefault","_dom","_utils","_constants","_useStateContext","_jsxRuntime","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","scrollbarWidth","_ref","close","hour24Mode","updateTimeValue","mode","time","meridiem","disabledTimeRangeValidator","container","useRef","selectedOption","options","useMemo","o","CLOCK_VALUES","dropdown","validator","MODE","HOURS_12","_","i","validateHour","num","HOURS_24","MINUTES","v","validateMinute","hour","parseInt","map","enabled","selected","getNormalizedTimeValue","toString","disableBodyScroll","document","documentElement","style","paddingRight","classList","add","enableBodyScroll","remove","elsewhereClick","useCallback","e","current","target","contains","useEffect","getScrollBarWidth","scrollTop","offsetTop","addEventListener","removeEventListener","select","val","parsed","type","jsx","css","wrapper","ref","onMouseEnter","onMouseLeave","className","children","_ref2","isSelected","el","concat","option","active","onClick"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = TimeDropdown;\n\nvar _react = require(\"react\");\n\nvar styles = _interopRequireWildcard(require(\"./styles/time-dropdown\"));\n\nvar _useConfigContext = _interopRequireDefault(require(\"../hooks/useConfigContext\"));\n\nvar _dom = require(\"../helpers/dom\");\n\nvar _utils = require(\"../helpers/utils\");\n\nvar _constants = require(\"../helpers/constants\");\n\nvar _useStateContext = _interopRequireDefault(require(\"../hooks/useStateContext\"));\n\nvar _jsxRuntime = require(\"@emotion/react/jsx-runtime\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\n\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nlet scrollbarWidth = null;\n\nfunction TimeDropdown(_ref) {\n  let {\n    close\n  } = _ref;\n  const {\n    hour24Mode\n  } = (0, _useConfigContext.default)();\n  const {\n    updateTimeValue,\n    mode,\n    time,\n    meridiem,\n    disabledTimeRangeValidator\n  } = (0, _useStateContext.default)();\n  const container = (0, _react.useRef)(null);\n  const selectedOption = (0, _react.useRef)(null);\n  const options = (0, _react.useMemo)(() => {\n    const o = _constants.CLOCK_VALUES[mode].dropdown;\n\n    let validator = () => true;\n\n    if (disabledTimeRangeValidator) {\n      if (mode === _constants.MODE.HOURS_12) {\n        if (meridiem === 'am') {\n          validator = (_, i) => disabledTimeRangeValidator.validateHour((i + 1) % 12);\n        } else {\n          validator = (_, i) => {\n            // account for last number (12) which should be first (noon, 1pm, ...) in 24h format\n            const num = i === 11 ? 12 : i + 13;\n            return disabledTimeRangeValidator.validateHour(num);\n          };\n        }\n      } else if (mode === _constants.MODE.HOURS_24) {\n        validator = (_, i) => disabledTimeRangeValidator.validateHour((i + 1) % 24);\n      } else if (mode === _constants.MODE.MINUTES) {\n        validator = v => disabledTimeRangeValidator.validateMinute(time.hour, parseInt(v, 10));\n      }\n    }\n\n    return o.map((value, i) => ({\n      value,\n      enabled: validator(value, i)\n    }));\n  }, [mode, disabledTimeRangeValidator, meridiem, time.hour]);\n  const selected = (0, _utils.getNormalizedTimeValue)(mode, time).toString();\n\n  function disableBodyScroll() {\n    document.documentElement.style.paddingRight = scrollbarWidth + 'px';\n    document.documentElement.classList.add('react-timekeeper-noscroll');\n  }\n\n  function enableBodyScroll() {\n    document.documentElement.style.paddingRight = '0';\n    document.documentElement.classList.remove('react-timekeeper-noscroll');\n  }\n\n  const elsewhereClick = (0, _react.useCallback)(e => {\n    if (!container.current || !e.target) {\n      return;\n    }\n\n    if (!container.current.contains(e.target)) {\n      close();\n    }\n  }, [close]);\n  (0, _react.useEffect)(() => {\n    // measure scroll bar width for first time\n    if (scrollbarWidth == null) {\n      scrollbarWidth = (0, _dom.getScrollBarWidth)();\n    } // initial scroll in list\n\n\n    if (selectedOption.current && container.current) {\n      container.current.scrollTop = selectedOption.current.offsetTop;\n    } // listener to close if click outside dropdown\n\n\n    document.addEventListener('click', elsewhereClick, false);\n    return () => {\n      document.removeEventListener('click', elsewhereClick, false);\n      enableBodyScroll();\n    };\n  }, [elsewhereClick]); // select a value\n\n  function select(val, enabled) {\n    if (!enabled) return;\n    let parsed = parseInt(val, 10);\n\n    if (mode === _constants.MODE.HOURS_12 && parsed === 12) {\n      parsed = 0;\n    }\n\n    updateTimeValue(parsed, {\n      type: 'dropdown'\n    });\n    close();\n  }\n\n  return (0, _jsxRuntime.jsx)(\"div\", {\n    css: styles.wrapper(hour24Mode, mode),\n    ref: container,\n    onMouseEnter: disableBodyScroll,\n    onMouseLeave: enableBodyScroll,\n    className: \"react-timekeeper__time-dropdown\",\n    \"data-testid\": \"time-dropdown\",\n    children: (0, _jsxRuntime.jsx)(\"ul\", {\n      css: styles.options,\n      className: \"react-timekeeper__dropdown-numbers\",\n      children: options.map(_ref2 => {\n        let {\n          value,\n          enabled\n        } = _ref2;\n        const isSelected = selected === value;\n        return (0, _jsxRuntime.jsx)(\"li\", {\n          ref: el => isSelected ? selectedOption.current = el : '',\n          className: \"react-timekeeper__dropdown-number \".concat(isSelected ? 'react-timekeeper__dropdown-number--active' : ''),\n          css: styles.option({\n            active: isSelected,\n            enabled\n          }),\n          onClick: () => select(value, enabled),\n          \"data-testid\": \"time-dropdown_number\",\n          children: value\n        }, value);\n      })\n    })\n  });\n}"]},"metadata":{},"sourceType":"script"}